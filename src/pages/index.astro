---
import Navigation from "../components/Navigation.astro";
import Layout from "../layouts/Layout.astro";
import AnimatedHero from "../components/AnimatedHero";
import AnimatedExperience from "../components/AnimatedExperience";
---

<Layout
  title="Shreyas Thirumalai"
  description="Portfolio Site of Shreyas Thirumalai"
>
  <Navigation activeNavItem="home" />
  <header
    class="flex flex-col justify-center w-full min-h-screen bg-primaryDark lg:px-20 px-10 relative overflow-hidden"
  >
    <div
      class="blob-1 absolute w-64 h-64 bg-primaryGreenDark opacity-10 rounded-full -top-20 -left-20 blur-3xl"
    >
    </div>
    <div
      class="blob-2 absolute w-96 h-96 bg-lightGreen opacity-5 rounded-full -bottom-40 -right-20 blur-3xl"
    >
    </div>

    <AnimatedHero client:load />
  </header>

  <AnimatedExperience client:visible />
</Layout>

<script>
  // Using modern browser APIs for animations
  document.addEventListener("DOMContentLoaded", () => {
    // Animate background blobs
    const blobs = document.querySelectorAll(".blob-1, .blob-2");

    blobs.forEach((blob, index) => {
      // Create a keyframe animation
      blob.animate(
        [
          { transform: "scale(1)", opacity: index === 0 ? "0.1" : "0.05" },
          { transform: "scale(1.1)", opacity: index === 0 ? "0.15" : "0.08" },
          { transform: "scale(1)", opacity: index === 0 ? "0.1" : "0.05" },
        ],
        {
          duration: 8000,
          iterations: Infinity,
          easing: "ease-in-out",
          direction: index === 0 ? "alternate" : "alternate-reverse",
        },
      );
    });
  });
</script>
